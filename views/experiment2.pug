doctype html
html
  head
    title= 'experiment 2'
    link(rel='stylesheet', href='/stylesheets/jssorSlider.css')
    link(rel='stylesheet', href='/stylesheets/style.css')
  body
    script(src='http://d3js.org/d3.v3.min.js', charset='utf-8')
    script(src='/scripts/jssor.slider-27.2.0.min.js', type='text/javascript')
    script.
      let data = !{JSON.stringify(data)}
      var jssor_1_slider_init = function() {
        var jssor_1_options = {
          $AutoPlay: 0,
          $SlideWidth: 370,
          $ArrowNavigatorOptions: {
            $Class: $JssorArrowNavigator$
          },
          $BulletNavigatorOptions: {
            $Class: $JssorBulletNavigator$
          }
        }
        var jssor_1_slider = new $JssorSlider$("jssor_1", jssor_1_options)
        /*#region responsive code begin*/
        var MAX_WIDTH = 980
        function ScaleSlider() {
          var containerElement = jssor_1_slider.$Elmt.parentNode
          var containerWidth = containerElement.clientWidth
          if (containerWidth) {
            var expectedWidth = Math.min(MAX_WIDTH || containerWidth, containerWidth)
            jssor_1_slider.$ScaleWidth(expectedWidth)
          } else {
            window.setTimeout(ScaleSlider, 30)
          }
        }
        ScaleSlider()
        $Jssor$.$AddEvent(window, "load", ScaleSlider)
        $Jssor$.$AddEvent(window, "resize", ScaleSlider)
        $Jssor$.$AddEvent(window, "orientationchange", ScaleSlider)
            /*#endregion responsive code end*/
      }
    div(id='jssor_1' style='position:relative;margin:0 auto;top:0px;left:0px;width:900px;height:550px;overflow:hidden;visibility:hidden;')
      //- Loading Screen
      div(data-u='loading' class='jssorl-009-spin' style='position:absolute;top:0px;left:0px;width:100%;height:100%;text-align:center;background-color:rgba(0,0,0,0.7);')
        img(style='margin-top:-19px;position:relative;top:50%;width:38px;height:38px;' src='/images/spin.svg')
      div(data-u='slides' style='cursor:default;position:relative;top:0px;left:0px;width:900px;height:550px;overflow:hidden;')
        each item in data
          - var foodName = item.foodname
          - var taste = item.taste
          - var health = item.health
          - var imgPath = item.path
          div(data-p='138')
            div.card(id= 'food'+count, name='card', data-u='image')
              h3 #{foodName}
              if foodName.length < 27
                br
              div(style='visibility: hidden; font-size: 0pt')
                p(name='foodId') #{item.id}
              img(src= imgPath alt= foodName)
              table.scores
                tr
                  th.taste Taste
                  th.health Health
                tr
                  td.taste(name='taste') #{taste}
                  td.health(name='health') #{health}
      div(data-u='navigator' class='jssorb051' style='position:absolute;bottom:12px;right:12px;' data-autocenter='1' data-scale='0.5' data-scale-bottom='0.75')
        div(data-u='prototype' class='i' style='width:16px;height:16px;')
          svg(viewbox='0 0 16000 16000' style='position:absolute;top:0;left:0;width:100%;height:100%;')
            circle(class='b' cx='8000' cy='8000' r='5800')
      div(data-u='arrowleft' class='jssora051' style='width:65px;height:65px;top:0px;left:35px;' data-autocenter='2' data-scale='0.75' data-scale-left='0.75')
        svg(viewbox='0 0 16000 16000' style='position:absolute;top:0;left:0;width:100%;height:100%;')
          polyline(class='a' points='11040,1920 4960,8000 11040,14080 ')
      div(data-u='arrowright' class='jssora051' style='width:65px;height:65px;top:0px;right:35px;' data-autocenter='2' data-scale='0.75' data-scale-right='0.75')
        svg(viewbox='0 0 16000 16000' style='position:absolute;top:0;left:0;width:100%;height:100%;')
          polyline(class='a' points='4960,1920 11040,8000 4960,14080 ')
    script.
      jssor_1_slider_init()
